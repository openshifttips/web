---
title: Deployment var management tips
tags:
  - Configuration
  - Deployments
emoji: üóÇÔ∏è
link: https://docs.openshift.com/container-platform
---

# Import environment variables from a file

(via https://twitter.com/kamesh_sampath/status/1179984908690739201)

Instead modifying the deployment, you can create an environment variables file
such as `myvars.env`:

```ini
MYSQL_DB="mysql"
MYSQL_DBPORT="3306"
OTHERVAR="foo"
```

Then:

```sh
cat myvars.env | oc set env -e - deployment/mydeployment -n mynamespace
```

# Set some of the local shell environment into a deployment config

```sh
env | grep MYSQL_ | oc set env -e - deployment/mydeployment -n mynamespace
```

# Import environment variables from a ConfigMap with a prefix

```sh
oc set env --from=configmap/myconfigmap --prefix=MYSQL_ deployment/mydeployment -n mynamespace
```

# Import specific keys from a ConfigMap

```sh
oc set env --from=configmap/myconfigmap --keys=OTHERVAR deployment/mydeployment -n mynamespace
```

# Remove environment variable in a deployment

```sh
oc set env -e OTHERVAR- deployment/mydeployment -n mynamespace
```

# Remove environment variable from container 'c1' in a deployment

```sh
oc set env deployment/mydeployment --containers="c1" OTHERVAR-
```

# Remove environment variable from container 'c1' in all deployments

```sh
oc set env deployments --all --containers="c1" OTHERVAR-
```

# Show logs for all containers within a pod

```sh
oc logs <pod> --all-containers
```

# Show logs for all containers within a pod with pod name and container name

```sh
oc logs <pod> --all-containers --prefix
```
